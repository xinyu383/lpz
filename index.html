<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <script type="text/javascript" src="assets/js/vue.min.js"></script>
    <style>
        /*body {*/
        /*height: 100%;*/
        /*overflow: hidden;*/
        /*background: #f5f5f5;*/
        /*}*/

        /*.result {*/
        /*position: absolute;*/
        /*right: 0;*/
        /*top: 0;*/
        /*bottom: 0;*/
        /*left: 0;*/
        /*background: #fff;*/
        /*z-index: 2;*/
        /*transform: translateY(100%);*/
        /*transition: all ease 0.3s;*/
        /*}*/

        .result.active {
            transform: translateY(0%);
        }
    </style>
    <title>油墨固废计算器</title>
</head>
<body>
<div id="app">
    <div class="page">
        <div class="container">
            <h2>油墨固废计算器</h2>
            <form>
                <div class="form-group">
                    <label>油墨用量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" value="4" v-model.number="numInput" @input="test"  placeholder="输入吨数">
                        <div class="input-group-addon">吨</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>当前固废处理费用（每吨）：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" v-model.number="countInput" @input="test" v-model.number="countInput"
                                value="18000" placeholder="输入费用">
                        <div class="input-group-addon">元</div>
                    </div>
                </div>
                <!--<div class="form-group text-center">-->
                <!--<div class="btn-group">-->
                <!--<a class="btn btn-primary" href="javascript:;" id="sum">计算</a>-->
                <!--<a class="btn btn-primary" href="javascript:;" id="reset">重置</a>-->
                <!--</div>-->
                <!--</div>-->
            </form>
        </div>
    </div>
    <div class="page result">
        <div class="container">
            <h4>费用对比</h4>
            <div class="row" >
                <div class="col-xs-6">
                    <div class="item firstTime form-group">
                        <div class="item__content">
                            <span class="coin">￥</span>
                            <b class="firstTimeResult">
                                {{ firstTimeResult }}
                            </b>
                        </div>
                        <div class="item__title">
                            迪可马仕达袋装油墨
                        </div>

                    </div>
                </div>
                <div class="col-xs-6">
                    <div class="item outTime form-group">
                        <div class="item__content">
                            <span class="coin">￥</span>
                            <b class="outTimeResult">
                                {{ outTimeResult }}
                            </b>
                        </div>
                        <div class="item__title">
                            传统油墨
                        </div>
                    </div>
                </div>
            </div>
            <div class="save form-group">
                <div class="save__title">
                    使用迪可马仕达袋装油墨可为您节省(元)：
                </div>
                <h2 class="save__content" style="color:red;text-align: center">
                    {{saveCount}}
                </h2>
                <div class="save__tip" style="color:#888;text-align: center">
                    （约等于 <b class="save__tip__count">{{saveTipCount}}</b> Kg 袋装油墨，节省成本{{pecentCount}}）
                </div>
            </div>
            <div class="text-center">
                <a href="http://jf61.com" class="btn btn-default">
                    立即采购
                </a>
            </div>
            <!--<a href="javascript:;" class="back">返回</a>-->
        </div>
    </div>
</div>
<script>
    new Vue({
        el: '#app',
        data: {
            numInput: '',
            countInput: '18000'
        },
        methods: {
            test(e){
                this.val=e.target.value.replace(/[^\d]/g,'')
            }
        },
        computed: {
            outTimeResult: function () {
                return (this.numInput * this.countInput * 0.388).toFixed(2);
            },
            firstTimeResult: function () {
                return (this.numInput * this.countInput * 0.0026).toFixed(2);
            },
            saveCount: function () {
                return (this.outTimeResult - this.firstTimeResult).toFixed(2);
            },
            saveTipCount: function () {
                return (this.saveCount / 26).toFixed(2);
            },
            pecentCount: function () {
                if (this.numInput > 0) {
                    return (parseFloat(this.saveCount / this.outTimeResult) * 100).toFixed(1) + '%'
                } else {
                    return '0.0%'
                }
                ;
            }
        }
    })
</script>
</body>
</html>
