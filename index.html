<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <script type="text/javascript" src="assets/js/vue.min.js"></script>
    <style>
        /*body {*/
        /*height: 100%;*/
        /*overflow: hidden;*/
        /*background: #f5f5f5;*/
        /*}*/

        /*.result {*/
        /*position: absolute;*/
        /*right: 0;*/
        /*top: 0;*/
        /*bottom: 0;*/
        /*left: 0;*/
        /*background: #fff;*/
        /*z-index: 2;*/
        /*transform: translateY(100%);*/
        /*transition: all ease 0.3s;*/
        /*}*/

        .result.active {
            transform: translateY(0%);
        }
    </style>
    <title>赖胖子螃蟹采购计算器</title>
</head>
<body>
<div id="app">
    <div class="page">
        <div class="container">
            <h2>赖胖子螃蟹采购计算器</h2>
            <form>
                <div class="form-group">
                    <label>肉蟹（大）销量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" value="4" v-model.number="rxdInput" @input="test"  placeholder="输入份数">
                        <div class="input-group-addon">份</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>肉蟹（小）销量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" value="4" v-model.number="rxxInput" @input="test"  placeholder="输入份数">
                        <div class="input-group-addon">份</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>膏蟹（大）销量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" value="4" v-model.number="gxdInput" @input="test"  placeholder="输入份数">
                        <div class="input-group-addon">份</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>膏蟹（小）销量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" value="4" v-model.number="gxxInput" @input="test"  placeholder="输入份数">
                        <div class="input-group-addon">份</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>海鲜蟹（大）销量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" value="4" v-model.number="hxdInput" @input="test"  placeholder="输入份数">
                        <div class="input-group-addon">份</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>海鲜蟹（小）销量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" value="4" v-model.number="hxxInput" @input="test"  placeholder="输入份数">
                        <div class="input-group-addon">份</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>当前肉蟹存量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" v-model.number="rxcInput" @input="test" 
                                value="0" placeholder="输入斤数">
                        <div class="input-group-addon">斤</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>当前膏蟹存量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" v-model.number="gxcInput" @input="test" 
                                value="0" placeholder="输入斤数">
                        <div class="input-group-addon">斤</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>当前海鲜蟹存量：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" v-model.number="hxcInput" @input="test" 
                                value="0" placeholder="输入斤数">
                        <div class="input-group-addon">斤</div>
                    </div>
                </div>
                 <div class="form-group">
                    <label>明日预计营业额：</label>
                    <div class="input-group">
                        <input type="number" class="form-control input-lg" v-model.number="yyeInput" @input="test" 
                                value="0" placeholder="输入营业额">
                        <div class="input-group-addon">元</div>
                    </div>
                </div>
                <!--<div class="form-group text-center">-->
                <!--<div class="btn-group">-->
                <!--<a class="btn btn-primary" href="javascript:;" id="sum">计算</a>-->
                <!--<a class="btn btn-primary" href="javascript:;" id="reset">重置</a>-->
                <!--</div>-->
                <!--</div>-->
            </form>
        </div>
    </div>
    <div class="page result">
        <div class="container">
            <h4>分析结果参考</h4>
            <div class="row" >
                <div class="col-xs-6">
                    <div class="item firstTime form-group">
                        <div class="item__content">
                            肉蟹今日消耗
                            <span class="coin">￥</span>
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                            ；库存
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                            ；建议明日采购
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                        </div>
                        <div class="item__content">
                            膏蟹今日消耗
                            <span class="coin">￥</span>
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                            ;库存
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                            ；建议明日采购
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                        </div>
                        <div class="item__content">
                            三点蟹今日消耗
                            <span class="coin">￥</span>
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                            ;库存
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                            ；建议明日采购
                            <b class="firstTimeResult" style="color:red;">
                                {{ firstTimeResult }}斤
                            </b>
                        </div>
                    </div>
                </div>
            </div>
            <!--<a href="javascript:;" class="back">返回</a>-->
        </div>
    </div>
</div>
<script>
    new Vue({
        el: '#app',
        data: {
            numInput: '',
            rxdInput: '',
            rxxInput: '',
            gxdInput: '',
            gxxInput: '',
            hxdInput: '',
            hxxInput: '',
            rxcInput: 0,
            gxcInput: 0,
            hxcInput: 0,
            yyeInput: 0
        },
        methods: {
            test(e){
                this.val=e.target.value.replace(/[^\d]/g,'')
            }
        },
        computed: {
            outTimeResult: function () {
                return (this.numInput * this.countInput * 0.388).toFixed(2);
            },
            firstTimeResult: function () {
                return (this.numInput * this.countInput * 0.0026).toFixed(2);
            },
            saveCount: function () {
                return (this.outTimeResult - this.firstTimeResult).toFixed(2);
            },
            saveTipCount: function () {
                return (this.saveCount / 26).toFixed(2);
            },
            pecentCount: function () {
                if (this.numInput > 0) {
                    return (parseFloat(this.saveCount / this.outTimeResult) * 100).toFixed(1) + '%'
                } else {
                    return '0.0%'
                }
                ;
            }
        }
    })
</script>
</body>
</html>
